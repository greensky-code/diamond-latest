<!-- Copyright (c) 2020 . All Rights Reserved. -->
<div class="container-fluid">
    <div class="card-block">
        <form [formGroup]="benefitRuleSelectionForm" novalidate>
            <h2 class="form-title card-label-admin">Benefit Rule Selection</h2>
            <button type="button" *ngIf="showIcon" class="modal-close close" aria-label="Close"
                    (click)="activeModal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
            <app-alert-message [alertMessage]="alertMessage"></app-alert-message>
            <app-pop-up-message #popUpMesssage (buttonclickEvent)="popUpButtonHandler($event)"
                                [popupMessage]="popUpMessage"></app-pop-up-message>

            <div class="form-group row">
                <div class="col-md-6 form-control-static mb-0" i18n>
                    <b>Column Name:</b> &nbsp; <strong class="clr-blue">{{columnName}} </strong>
                </div>
            </div>
            <ng-container *ngTemplateOutlet="loaderTemplate;context:{value: isLoading }"></ng-container>
            <div class="row" *ngIf="!isLoading">
                <div class="col-md-10 mt-3 p-0 ml-lg-4 mb-4">
                    <dynamic-form [showSubmitButton]="false" [prevState]="benefitRuleSelectState"
                        [displayCheckBox]="false"
                        [isFormEditable]="isFormEditable"
                        [buttonDisabled]="buttonDisabled"
                        [isSaveForm]="isSaveForm" [title]="''"
                        [config]="benefitRuleSelectionFormConfig" 
                        (formSubmitted)="saveBenefitSelect($event)" 
                        (onKeyUpFields)="onKeyUpFieldsChange($event)" >
                    </dynamic-form>
                </div>
                <div class="form-group col-md">
                    <!-- Button with label of OK -->
                    <div class="mt-2">
                        <button type="button" id="ok" name="ok" class="btn btn-small btn-primary w-100" (click)="emitBenefitRuleSelect()">OK</button>
                        <br/>
                        <br/>
                        <button *ngIf="showIcon"  [disabled]="buttonDisabled" [ngClass]="buttonDisabled?'button-disabled':''" type="button" id="cancel" name="cancel" class="btn btn-small btn-primary w-100" (click)="modalClose()">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>


<ng-template #loaderTemplate let-loaderValue = "value"  >
    <div class="row justify-content-center mt-4" *ngIf="loaderValue">
        <div class="spinner-border text-success" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>

