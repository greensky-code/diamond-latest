<!-- Copyright (c) 2021 . All Rights Reserved. -->
<div class="container-fluid">
    <div class="card-block">

        <div class="row form-title">
            <h2 class="col-md-4 card-label-admin">Manual Checks</h2>
            <div class="col-md"><b class="readonly-label">View Only</b></div>
        </div>

        <button type="button" *ngIf="showIcon" class="close" aria-label="Close"
                (click)="activeModal.dismiss()">
            <span aria-hidden="true">&times;</span>
        </button>
        <app-alert-message [alertMessage]="alertMessage"></app-alert-message>
        <app-pop-up-message #popUpMesssage (buttonclickEvent)="popUpButtonHandler($event)"
                            [popupMessage]="popUpMessage"></app-pop-up-message>

        <div class="row mt-3">
            <menu-bar [menus]="menu" (onMenuClick)="onMenuItemClick($event)"></menu-bar>
        </div>
        <form [formGroup]="manualChecksForm" novalidate *ngIf="!secProgress">

            <div class="form-group row mt-1">
                <!-- Textbox with label of Payable Type -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('payableType') }">
                    <label class="col-form-label" for="payableType" i18n>Payable Type</label>
                    <input type="text" id="payableType" [fieldLevelSec]="'Payable Type'" [params]="'Check Print Setup'"
                           class="form-control" formControlName="payableType"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('payableType')">
                        {{ formValidation.errorMessage('payableType') }}
                    </small>
                </div>

            </div>

            <div class="form-group row">
            </div>


            <ag-grid-angular #agGrid class="ag-theme-fresh" [gridOptions]="dataGridGridOptions"
                             style="width: 100%; height: 300px;"
                             [enableSorting]="true"
                             [enableFilter]="true"
                             [floatingFilter]="true"
                             (selectionChanged)="onFormSelectionChange($event)"
                             [pagination]="true"
                             [showToolPanel]="true">
            </ag-grid-angular>

            <div class="form-group row">
            </div>


            <div class="form-group row">
                <div class="col-md-4 form-control-static mb-0" i18n>
                    <h4 class="fa-underline"><u> Job Setup</u></h4>
                </div>
            </div>

            <div class="form-group row">
                <!-- DynamicText with label of Job Id -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('jobId') }">
                    <label class="col-form-label required-field-label" for="jobId" i18n>Job Id</label>
                    <input type="text" [fieldLevelSec]="''" [params]="" readonly id="jobId" formControlName="jobId"
                           class="form-control"/>
                </div>

                <!-- DynamicText with label of Pass -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('pass') }">
                    <label class="col-form-label" for="pass" i18n>Pass</label>
                    <input type="text" [fieldLevelSec]="''" [params]="" readonly id="pass" formControlName="pass"
                           class="form-control"/>
                </div>

                <!-- Textbox with label of Company Code -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('companyCode') }">
                    <label class="col-form-label required-field-label" for="companyCode" i18n>Company Code</label>
                    <input type="text" id="companyCode" [fieldLevelSec]="'Company Code'" [params]="'Check Print Setup'"
                           class="form-control" formControlName="companyCode"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('companyCode')">
                        {{ formValidation.errorMessage('companyCode') }}
                    </small>
                </div>

                <!-- DynamicText with label of Bank Acct -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('bankAcct') }">
                    <label class="col-form-label" for="bankAcct" i18n>Bank Acct</label>
                    <input type="text" [fieldLevelSec]="'Bank Account Code'" [params]="'Check Print Setup'" readonly
                           id="bankAcct" formControlName="bankAcct" class="form-control"/>
                </div>

            </div>

            <div class="form-group row">
                <!-- DynamicText with label of Req User -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('reqUser') }">
                    <label class="col-form-label" for="reqUser" i18n>Req User</label>
                    <input type="text" [fieldLevelSec]="'Request User'" [params]="'Check Print Setup'" readonly
                           id="reqUser" formControlName="reqUser" class="form-control"/>
                </div>

                <!-- DynamicText with label of Run Date -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('runDate') }">
                    <label class="col-form-label" for="runDate" i18n>Run Date</label>
                    <input type="text" [fieldLevelSec]="''" [params]="" readonly id="runDate" formControlName="runDate"
                           class="form-control"/>
                </div>

                <!-- Textbox with label of Start Check No -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('startCheckNo') }">
                    <label class="col-form-label required-field-label" for="startCheckNo" i18n>Start Check No</label>
                    <input type="text" id="startCheckNo" [fieldLevelSec]="'Check Notes'" [params]="'Check Print Setup'"
                           class="form-control" formControlName="startCheckNo"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('startCheckNo')">
                        {{ formValidation.errorMessage('startCheckNo') }}
                    </small>
                </div>

            </div>


            <div class="form-group row">
                <div class="col-md-4 form-control-static mb-0" i18n>
                    <h4 class="fa-underline"><u>
                        Claim Selection Criteria
                    </u></h4>
                </div>
            </div>

            <div class="form-group row">
                <!-- Textbox with label of Vendor ID -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('vendorId') }">
                    <label class="col-form-label required-field-label" for="vendorId" i18n>Vendor ID</label>
                    <input type="text" id="vendorId" [fieldLevelSec]="'Seq Vend Id'" [params]="'Check Print Setup'"
                           class="form-control" formControlName="vendorId"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('vendorId')">
                        {{ formValidation.errorMessage('vendorId') }}
                    </small>
                </div>

                <!-- Textbox with label of Vendor Address -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('vendorAddress') }">
                    <label class="col-form-label required-field-label" for="vendorAddress" i18n>Vendor Address</label>
                    <input type="text" id="vendorAddress" [fieldLevelSec]="'Seq Vend Address'"
                           [params]="'Check Print Setup'" class="form-control" formControlName="vendorAddress"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('vendorAddress')">
                        {{ formValidation.errorMessage('vendorAddress') }}
                    </small>
                </div>

            </div>

           <ng-container *ngIf="checkPrintSetup && checkPrintSetup.payableType == 'M'; else CapitationTemplate">
               <div class="form-group row">
                   <!-- Textbox with label of Claim Type -->
                   <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('claimType') }">
                       <label class="col-form-label" for="claimType" i18n>Claim Type</label>
                       <input type="text" id="claimType" [fieldLevelSec]="'Seq Claim Id'" [params]="'Check Print Setup'"
                              class="form-control" formControlName="claimType"/>
                       <small class="text-danger" *ngIf="formValidation.isValidField('claimType')">
                           {{ formValidation.errorMessage('claimType') }}
                       </small>
                   </div>

                   <!-- Textbox with label of Claim No -->
                   <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('claimNo') }">
                       <label class="col-form-label" for="claimNo" i18n>Claim No</label>
                       <input type="text" id="claimNo" [fieldLevelSec]="''" [params]="" class="form-control"
                              formControlName="claimNo"/>
                       <small class="text-danger" *ngIf="formValidation.isValidField('claimNo')">
                           {{ formValidation.errorMessage('claimNo') }}
                       </small>
                   </div>

                   <!-- Textbox with label of Provider ID -->
                   <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('providerId') }">
                       <label class="col-form-label" for="providerId" i18n>Provider ID</label>
                       <input type="text" id="providerId" [fieldLevelSec]="'Seq Prov Id'" [params]="'Check Print Setup'"
                              class="form-control" formControlName="providerId"/>
                       <small class="text-danger" *ngIf="formValidation.isValidField('providerId')">
                           {{ formValidation.errorMessage('providerId') }}
                       </small>
                   </div>

               </div>

               <div class="form-group row">
                   <!-- Textbox with label of Member ID -->
                   <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('memberId') }">
                       <label class="col-form-label" for="memberId" i18n>Member ID</label>
                       <input type="text" id="memberId" [fieldLevelSec]="'Seq Memb Id'" [params]="'Check Print Setup'"
                              class="form-control" formControlName="memberId"/>
                       <small class="text-danger" *ngIf="formValidation.isValidField('memberId')">
                           {{ formValidation.errorMessage('memberId') }}
                       </small>
                   </div>

                   <!-- Textbox with label of From Post Date -->


                   <div class="col-md-4">
                       <app-datepicker [formGroup]="manualChecksForm" [formValidation]="formValidation"
                                       [field]="'fromPostDate'" [labelText]="'From Post Date'"></app-datepicker>
                   </div>
                   <!-- Textbox with label of Thru Post Date -->

                   <div class="col-md-4">
                       <app-datepicker [formGroup]="manualChecksForm" [formValidation]="formValidation"
                                       [field]="'thruPostDate'" [labelText]="'Thru Post Date'"></app-datepicker>
                   </div>

               </div>
           </ng-container>

            <ng-template #CapitationTemplate>

                <div class="form-group row">
                    <!-- Textbox with label of model -->
                    <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('model') }">
                        <label class="col-form-label" for="claimType" i18n>Model</label>
                        <input type="text" id="model" [fieldLevelSec]="'Seq Claim Id'" [params]="'Check Print Setup'"
                               class="form-control" formControlName="model"/>

                    </div>

                    <!-- Textbox with label of  entity-->
                    <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('entity') }">
                        <label class="col-form-label" for="claimNo" i18n>Entity</label>
                        <input type="text" id="entity" [fieldLevelSec]="''" [params]="" class="form-control"
                               formControlName="entity"/>

                    </div>

                    <!-- Textbox with label of pool -->
                    <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('pool') }">
                        <label class="col-form-label" for="providerId" i18n>Pool</label>
                        <input type="text" id="pool" [fieldLevelSec]="'Seq Prov Id'" [params]="'Check Print Setup'"
                               class="form-control" formControlName="pool"/>

                    </div>

                </div>

                <div class="form-group row">
                    <!-- Textbox with label of capMonth -->
                    <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('capMonth') }">
                        <label class="col-form-label" for="memberId" i18n>Cap Month</label>
                        <input type="text" id="capMonth" [fieldLevelSec]="'Seq Memb Id'" [params]="'Check Print Setup'"
                               class="form-control" formControlName="memberId"/>

                    </div>


                    <!-- Textbox with label of Provider ID -->
                    <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('providerId') }">
                        <label class="col-form-label" for="providerId2" i18n>Provider ID</label>
                        <input type="text" id="providerId2" [fieldLevelSec]="'Seq Prov Id'" [params]="'Check Print Setup'"
                               class="form-control" formControlName="providerId"/>
                        <small class="text-danger" *ngIf="formValidation.isValidField('providerId')">
                            {{ formValidation.errorMessage('providerId') }}
                        </small>
                    </div>



                </div>
            </ng-template>

            <div class="form-group row">
                <div class="col-md-4 form-control-static mb-0" i18n>
                    <h4 class="fa-underline"><u>
                        A/P Selection Criteria
                    </u></h4>
                </div>
            </div>
            <div class="form-group row">
                <!-- Textbox with label of Status -->
                <div class="col-md-4" [ngClass]="{'has-danger': formValidation.isValidField('status') }">
                    <label class="col-form-label" for="status" i18n>Status</label>
                    <input type="text" id="status" [fieldLevelSec]="''" [params]="" class="form-control"
                           formControlName="status"/>
                    <small class="text-danger" *ngIf="formValidation.isValidField('status')">
                        {{ formValidation.errorMessage('status') }}
                    </small>
                </div>

                <!-- Textbox with label of From Due Date -->

                <div class="col-md-4">
                    <app-datepicker [formGroup]="manualChecksForm" [formValidation]="formValidation"
                                    [field]="'fromDueDate'" [labelText]="'From Due Date'"></app-datepicker>
                </div>


                <!-- Textbox with label of Thru Due Date -->
                <div class="col-md-4">
                    <app-datepicker [formGroup]="manualChecksForm" [formValidation]="formValidation"
                                    [field]="'thruDueDate'" [labelText]="'Thru Due Date'"></app-datepicker>
                </div>


            </div>


            <div class="form-group row">
                <div class="form-group col-md-6">
                    <div class="col-md-6 form-control-static mb-0" i18n>
                        <h4 class="fa-underline"><u>
                            Action
                        </u></h4>
                    </div>
                </div>

                <div class="form-group col-md">
                    <div class="col-md-4 form-control-static mb-0" i18n>
                        <h4 class="fa-underline"><u>
                            Run Option
                        </u></h4>
                    </div>
                </div>

            </div>

            <div class="form-group row">
                <div class="form-group col-md-6">
                   <div class="row">
                       <div class="col-md-2 required-field-label">
                           Action:
                       </div>
                       <!-- RadioButtonGroup with label of Action -->
                       <div class="col-md-3" [ngClass]="{'has-error': displayMessage.action }">
                           <input id="run001" type="radio" value="r" name="action" formControlName="action"/>
                           <label class="ml-1 col-form-label" for="run001" i18n>Select</label>

                       </div>

                       <!-- RadioButton with label of Cancel -->
                       <div class="col-md-3" [ngClass]="{'has-error': displayMessage.cancel }">
                           <input id="cancel" type="radio" value="c" formControlName="action" name="action"/>
                           <label class=" ml-1 col-form-label" for="cancel" i18n>Cancel</label>
                       </div>

                       <!-- RadioButton with label of Post -->
                       <div class="col-md" [ngClass]="{'has-error': displayMessage.post }">
                           <input id="post" type="radio" value="p" formControlName="action" name="action"/>
                           <label class="ml-1 col-form-label" for="post" i18n>Post</label>
                       </div>

                   </div>

                </div>

                <!-- RadioButtonGroup with label of Request Type -->
                <div class="form-group col-md-6">
                    <div class="form-group row">
                        <div class="col-md-4 required-field-label">
                            Request Type:
                        </div>
                        <!-- RadioButtonGroup with label of Action -->
                        <div class="col-md-4" [ngClass]="{'has-error': displayMessage.immediate001 }">
                            <input id="immediate001" type="radio" name="requestType"
                                   value="I" formControlName="requestType"/>
                            <label class="col-form-label ml-1" for="immediate001" i18n>Immediate</label>
                        </div>

                        <!-- RadioButton with label of Post -->
                        <div class="col-md" [ngClass]="{'has-error': displayMessage.requestType }">
                            <input id="deffered" type="radio" name="requestType" formControlName="requestType"
                                   value="D"/>
                            <label class="col-form-label ml-1" for="deffered" i18n>Deffered</label>

                        </div>

                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<ng-keyboard-shortcuts [shortcuts]="shortcuts"></ng-keyboard-shortcuts>
<ng-keyboard-shortcuts-help [key]="'f2'" [closeKey]="'escape'" [title]="'Hotkeys Help'"></ng-keyboard-shortcuts-help>
