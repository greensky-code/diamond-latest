<!-- Copyright (c) 2021 . All Rights Reserved. -->
<div class="container-fluid">
    <div class="card-block">
      <button type="button" *ngIf="showIcon" class="close" aria-label="Close" (click)="modalClose()">
        <span aria-hidden="true">&times;</span>
      </button>
      <ng-container *ngTemplateOutlet="loaderTemplate;context:{value: !isDataLoaded }"></ng-container>
      <div class="row form-title">
        <h2 class="col-md-6  card-label-admin">Accounts Payable Update </h2>
        <div class="col-md-2"><b class="readonly-label">View Only</b></div>
      </div>
      <div class="row">
        <menu-bar [menus]="menu" (onMenuClick)="onMenuItemClick($event)"></menu-bar>
      </div>
        <form [formGroup]="accountsPayableUpdateForm" novalidate>
            <app-alert-message [alertMessage]="alertMessage"></app-alert-message>
            <app-pop-up-message #popUpMesssage (buttonclickEvent)="popUpButtonHandler($event)"  [(popupMessage)] = "popUpMessage"></app-pop-up-message>

            <div class="form-group row">
            </div>

                        <!-- DataGrid with Name of DataGrid -->
                    <ag-grid-angular #agGrid class="ag-theme-fresh" [gridOptions]="dataGridGridOptions"
                    style="width: 100%; height: 300px;"
                    [enableSorting]="true"
                    [enableFilter]="true"
                    [floatingFilter]="true"
                    [pagination]="true"
                    [showToolPanel]="true"
                    (selectionChanged)="gridSelectionChange()">
                    </ag-grid-angular>

            <div class="row mt-3">
              <div class="col">
                  <span class="clr-blue">Job Setup</span>
                  <hr class="dashed-line"/>
              </div>
            </div>

            <div class="form-group row">
                <!-- Textbox with label of Job Id -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('jobId') }">
                     <label class="col-form-label" for="jobId" i18n>Job Id</label>
                     <input type="text" id="jobId"  [fieldLevelSec]="''" [params]=""   class="form-control" formControlName="jobId"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('jobId')">
                      {{ formValidation.errorMessage('jobId') }}
                     </small>
                 </div>

                <!-- Textbox with label of Request User -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('requestUser') }">
                     <label class="col-form-label" for="requestUser" i18n>Request User</label>
                     <input type="text" id="requestUser"  [fieldLevelSec]="'Request User'" [params]=""   class="form-control" formControlName="requestUser"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('requestUser')">
                      {{ formValidation.errorMessage('requestUser') }}
                     </small>
                 </div>

                <!-- Textbox with label of Date -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('date') }">
                     <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                     [formValidation]="formValidation"
                                     [readonly]="true"
                                     [field]="'date'" [labelText]="'Date'"></app-datepicker>
                 </div>

            </div>

            <div class="form-group row">
                <!-- Textbox with label of Post Month -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('postMonth') }">
                     <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                     [formValidation]="formValidation"
                                     [readonly]="true"
                                     [field]="'postMonth'" [labelText]="'Post Month'"></app-datepicker>
                 </div>

            </div>

            <div class="row mt-3">
              <div class="col">
                  <span class="clr-blue">Selection Criteria</span>
                  <hr class="dashed-line"/>
              </div>
            </div>

            <div class="form-group row">
            </div>

            <div class="form-group row">
                <!-- Textbox with label of Payable Type -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('payableType') }">
                  <label class="col-form-label clr-blue" for="payableType" i18n>Payable type</label>
                   <select class="form-control" id="payableType" name="payableType" formControlName="payableType">
                     <option value="">-Select-</option>
                     <option *ngFor="let dddwDtl of paybleType" [value]="dddwDtl.dddwDtlPrimaryKey.dataVal">
                         {{dddwDtl.dddwDtlPrimaryKey.displayVal}}</option>
                  </select>
                   <small class="text-danger" *ngIf="formValidation.isValidField('payableType')">
                   {{ formValidation.errorMessage('payableType') }}
                  </small>
                </div>

                <!-- Textbox with label of Company Code -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('companyCode') }">
                     <label class="col-form-label" for="companyCode" i18n>Company Code</label>
                     <input type="text" id="companyCode"  [fieldLevelSec]="'Company Code'" [params]=""   class="form-control" formControlName="companyCode"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('companyCode')">
                      {{ formValidation.errorMessage('companyCode') }}
                     </small>
                 </div>

            </div>

            <div class="form-group row">
                <!-- Textbox with label of Vendor ID -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('vendorId') }">
                     <label class="col-form-label" for="vendorId" i18n>Vendor ID</label>
                     <input type="text" id="vendorId"  [fieldLevelSec]="'Seq Vend Id'" [params]=""   class="form-control" formControlName="vendorId"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('vendorId')">
                      {{ formValidation.errorMessage('vendorId') }}
                     </small>
                 </div>

                <!-- Textbox with label of Up To Amount -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('upToAmount') }">
                     <label class="col-form-label" for="upToAmount" i18n>Up To Amount</label>
                     <input type="text" id="upToAmount"  [fieldLevelSec]="'Up To Amt'" [params]=""   class="form-control" formControlName="upToAmount"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('upToAmount')">
                      {{ formValidation.errorMessage('upToAmount') }}
                     </small>
                 </div>

            </div>

            <div class="form-group row">
                <!-- Textbox with label of From Entered Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('fromEnteredDate') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'fromEnteredDate'" [labelText]="'From Entered Date'"></app-datepicker>
                </div>

                <!-- Textbox with label of Thru Entered Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('thruEnteredDate') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'thruEnteredDate'" [labelText]="'Thur Entered Date'"></app-datepicker>
                </div>
            </div>

            <div class="form-group row">
                <!-- Textbox with label of From Due Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('fromDueDate') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'fromDueDate'" [labelText]="'From Due Date'"></app-datepicker>
                </div>

                <!-- Textbox with label of Thru Due Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('thruDueDate') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'thruDueDate'" [labelText]="'Thru Due Date'"></app-datepicker>
                </div>
            </div>

            <div class="form-group row">
                <!-- Textbox with label of From Received Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('fromReceivedDate001') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'fromReceivedDate001'" [labelText]="'From Received Date'"></app-datepicker>
                </div>

                <!-- Textbox with label of Thru Received Date -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('thruReceivedDate001') }">
                    <app-datepicker [formGroup]="accountsPayableUpdateForm"
                                    [formValidation]="formValidation"
                                    [readonly]="true"
                                    [field]="'thruReceivedDate001'" [labelText]="'Thru Received Date'"></app-datepicker>
                </div>
            </div>

            <div class="form-group row">
                <!-- Checkbox with label of Include FINAL -->
                <div class="col-md-3" [ngClass]="{'has-error': displayMessage.includeFinalCb }">
                    <div class="checkbox col-md-12 pt-4 mt-2">
                      <input id="includeFinalCb"  [fieldLevelSec]="'Include Final'" [params]=""  value="includeFinalCb" formControlName="includeFinalCb" type="checkbox">
                        <label class="checkbox">
                            Include FINAL
                         </label>
                    </div>
                    <span class="help-block" *ngIf="displayMessage.includeFinalCb">
                        {{ displayMessage.includeFinalCb  }}
                     </span>
                </div>

                <!-- Textbox with label of Admin Fee -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('adminFee') }">
                    <label class="col-form-label" for="adminFee" i18n>Admin Fee</label>
                    <select class="form-control" id="adminFee" name="adminFee" formControlName="adminFee">
                      <option value="">-Select-</option>
                      <option *ngFor="let dddwDtl of adminFees" [value]="dddwDtl.dddwDtlPrimaryKey.dataVal">
                          {{dddwDtl.dddwDtlPrimaryKey.displayVal}}</option>
                   </select>
                    <small class="text-danger" *ngIf="formValidation.isValidField('adminFee')">
                    {{ formValidation.errorMessage('adminFee') }}
                    </small>
                 </div>

            </div>

            <div class="form-group row">
            </div>

            <div class="row mt-3">
              <div class="col">
                  <span class="clr-blue">Next Action</span>
                  <hr class="dashed-line"/>
              </div>
            </div>

            <div class="form-group row">
                <!-- Textbox with label of Action -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('action') }">
                  <label class="col-form-label" for="action" i18n>Action</label>
                   <select class="form-control" id="action" name="action" formControlName="action">
                     <option value="">-Select-</option>
                     <option *ngFor="let dddwDtl of actions" [value]="dddwDtl.dddwDtlPrimaryKey.dataVal">
                         {{dddwDtl.dddwDtlPrimaryKey.displayVal}}</option>
                  </select>
                   <small class="text-danger" *ngIf="formValidation.isValidField('action')">
                   {{ formValidation.errorMessage('action') }}
                  </small>
              </div>

                <!-- Textbox with label of Status -->
                <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('status') }">
                  <label class="col-form-label" for="status" i18n>Status</label>
                   <select class="form-control" id="status" name="status" formControlName="status">
                     <option value="">-Select-</option>
                     <option *ngFor="let dddwDtl of statuses" [value]="dddwDtl.dddwDtlPrimaryKey.dataVal">
                         {{dddwDtl.dddwDtlPrimaryKey.displayVal}}</option>
                  </select>
                   <small class="text-danger" *ngIf="formValidation.isValidField('status')">
                   {{ formValidation.errorMessage('status') }}
                  </small>
               </div>

            </div>

            <div class="row mt-3">
              <div class="col">
                  <span class="clr-blue">Run option</span>
                  <hr class="dashed-line"/>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-md-3 clr-blue">
                  Request Type:
              </div>
              <!-- RadioButtonGroup with label of Action -->
              <div class="col-md-3" [ngClass]="{'has-error': displayMessage.requestType }">
                  <input id="immediate001" type="radio" name="requestType"
                        value="I" formControlName="requestType"/>
                  <label class="col-form-label ml-1" for="immediate001" i18n>Immediate</label>
              </div>

              <!-- RadioButton with label of Post -->
              <div class="col-md-3" [ngClass]="{'has-error': displayMessage.requestType }">
                  <input id="deffered" type="radio" name="requestType" formControlName="requestType" value="D"/>
                  <label class="col-form-label ml-1" for="deffered" i18n>Deffered</label>

              </div>

             </div>

            <div class="form-group row">
                <!-- Textbox with label of Comments -->
                 <div class="col-md-3" [ngClass]="{'has-danger': formValidation.isValidField('comments') }">
                     <label class="col-form-label" for="comments" i18n>Comments</label>
                     <input type="text" id="comments"  [fieldLevelSec]="'Comments'" [params]=""   class="form-control" formControlName="comments"/>
                      <small class="text-danger" *ngIf="formValidation.isValidField('comments')">
                      {{ formValidation.errorMessage('comments') }}
                     </small>
                 </div>

            </div>
        </form>
    </div>
</div>
<ng-template #loaderTemplate let-loaderValue="value">
  <div class="row justify-content-center mt-4" *ngIf="loaderValue">
    <div class="spinner-border text-success" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>
<ng-keyboard-shortcuts [shortcuts]="shortcuts"></ng-keyboard-shortcuts>
<ng-keyboard-shortcuts-help [key]="'f2'" [closeKey]="'escape'" [title]="'Hotkeys Help'"></ng-keyboard-shortcuts-help>
